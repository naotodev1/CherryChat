<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Studio Tsukiyo Platforms</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #111;
      color: #f4f4f4;
      overflow-x: hidden;
    }

    /* ===== Tela de Boas-vindas ===== */
    #welcomeScreen {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.95);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      padding: 20px;
      z-index: 9999;
    }
    #welcomeScreen h1 { font-size: 2rem; margin-bottom: 1rem; }
    #welcomeScreen label { display: flex; align-items: center; gap: 8px; margin: 1rem 0; }
    #acceptBtn, #startBtn {
      margin: 10px;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background: #4CAF50;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      transition: 0.3s;
    }
    #acceptBtn:disabled { background: #666; cursor: not-allowed; }

    /* ===== Chat Geral ===== */
    .chatBox {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 320px;
      max-height: 500px;
      background: #222;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(0,0,0,0.5);
      display: none;
      flex-direction: column;
      overflow: hidden;
      z-index: 1000;
    }
    .chatHeader {
      background: #333;
      padding: 10px;
      font-weight: bold;
      text-align: center;
    }
    .chatMsgs {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
    }
    .chatInput {
      display: flex;
      border-top: 1px solid #444;
    }
    .chatInput input {
      flex: 1;
      padding: 10px;
      border: none;
      outline: none;
    }
    .chatInput button {
      padding: 10px;
      background: #4CAF50;
      border: none;
      color: white;
      cursor: pointer;
    }
    .msg { margin: 5px 0; padding: 6px 10px; border-radius: 6px; }
    .msg.u { background: #4CAF50; align-self: flex-end; color: white; }
    .msg.b { background: #555; align-self: flex-start; }

    /* ===== Aura ===== */
    #auraCard {
      position: fixed;
      bottom: 100px;
      right: 25px;
      background: #ff69b4;
      padding: 8px 12px;
      border-radius: 12px;
      opacity: 0;
      transform: translateY(30px);
      transition: 0.6s;
      cursor: pointer;
      z-index: 900;
    }
    #auraBalloon {
      position: fixed;
      bottom: 20px;
      right: 80px;
      width: 50px;
      height: 50px;
      background: #ff69b4;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      z-index: 900;
    }

    /* ===== Responsividade ===== */
    @media (max-width: 768px) {
      .chatBox { width: 90%; right: 5%; }
      #welcomeScreen h1 { font-size: 1.5rem; }
    }
  </style>
</head>
<body>
  <!-- Tela inicial -->
  <div id="welcomeScreen">
    <h1>Bem-vindo ao Studio Tsukiyo ðŸŒ™</h1>
    <p>Antes de comeÃ§ar, leia e aceite nossos <a href="https://naotodev1.github.io/terms-e-policy" target="_blank">Termos de Uso</a>.</p>
    <label>
      <input type="checkbox" id="termsCheck"> Aceito os termos e condiÃ§Ãµes
    </label>
    <button id="acceptBtn" disabled>Aceitar</button>
    <button id="startBtn" style="display:none;">ComeÃ§ar</button>
  </div>

  <!-- Chat Sophia -->
  <div class="chatBox" id="sophiaChat">
    <div class="chatHeader">Sophia ðŸ¤–</div>
    <div class="chatMsgs" id="sophiaMsgs"></div>
    <div class="chatInput">
      <input type="text" id="sophiaIn" placeholder="Digite aqui...">
      <button id="sophiaSend">Enviar</button>
    </div>
  </div>

  <!-- Aura -->
  <div id="auraCard">Oi, eu sou a Aura! Clique aqui ðŸ‘‰</div>
  <div id="auraBalloon">ðŸ’¬</div>

  <div class="chatBox" id="auraChat">
    <div class="chatHeader">Aura âœ¨</div>
    <div class="chatMsgs" id="auraMsgs"></div>
    <div class="chatInput">
      <input type="text" id="auraIn" placeholder="Pergunte algo...">
      <button id="auraSend">Enviar</button>
    </div>
  </div>

  <script>
    /* ===== Tela de Boas-vindas ===== */
    const termsCheck = document.getElementById("termsCheck");
    const acceptBtn = document.getElementById("acceptBtn");
    const startBtn = document.getElementById("startBtn");
    const welcomeScreen = document.getElementById("welcomeScreen");
    const sophiaChat = document.getElementById("sophiaChat");

    termsCheck.onchange = ()=>{ acceptBtn.disabled = !termsCheck.checked; };
    acceptBtn.onclick = ()=>{
      acceptBtn.style.display = "none";
      startBtn.style.display = "inline-block";
    };
    startBtn.onclick = ()=>{
      welcomeScreen.style.display = "none";
      sophiaChat.style.display = "flex";
      sophiaIn.focus();
      appendSophia("OlÃ¡! Eu sou a Sophia, assistente do Studio Tsukiyo. Como posso ajudar hoje?","b");
    };

    /* ===== Chat Sophia ===== */
    const sophiaMsgs = document.getElementById("sophiaMsgs");
    const sophiaIn = document.getElementById("sophiaIn");
    const sophiaSend = document.getElementById("sophiaSend");

    function appendSophia(text,who="b"){
      const el=document.createElement("div");
      el.className="msg "+who;
      el.textContent=text;
      sophiaMsgs.appendChild(el);
      sophiaMsgs.scrollTop=sophiaMsgs.scrollHeight;
    }

    function sophiaBrain(q){
      const t=q.toLowerCase();
      if(/curso|writer/.test(t)) return "ðŸŽ“ Nosso curso *Tsukiyo Writer Class* ensina autores a criarem obras originais.";
      if(/obra|livro|histÃ³ria/.test(t)) return "ðŸ“š Algumas obras nossas: *Abunai Aisuru*, *Married at 16*, *Kizuite Kudassai*â€¦";
      if(/termo|polÃ­tica/.test(t)) return "ðŸ“œ Consulte os termos em: https://naotodev1.github.io/terms-e-policy";
      return "ðŸ¤” NÃ£o tenho essa info ainda, mas posso te ajudar com cursos, obras ou termos.";
    }

    sophiaSend.onclick = ()=>{
      const t=sophiaIn.value.trim(); if(!t) return;
      appendSophia(t,"u");
      sophiaIn.value="";
      setTimeout(()=>appendSophia(sophiaBrain(t),"b"),600);
    };
    sophiaIn.addEventListener("keydown",e=>{if(e.key==="Enter") sophiaSend.click();});

    /* ===== Aura ===== */
    const auraCard=document.getElementById("auraCard");
    const auraBalloon=document.getElementById("auraBalloon");
    const auraChat=document.getElementById("auraChat");
    const auraMsgs=document.getElementById("auraMsgs");
    const auraIn=document.getElementById("auraIn");
    const auraSend=document.getElementById("auraSend");

    function showAuraIntro(){
      setTimeout(()=>{
        auraCard.style.opacity="1";
        auraCard.style.transform="translateY(0)";
        setTimeout(()=>{ auraCard.style.opacity="0"; },5000);
      },2500);
    }
    showAuraIntro();

    function toggleAura(){
      auraChat.style.display = auraChat.style.display==="flex" ? "none" : "flex";
      auraIn.focus();
    }
    auraBalloon.onclick=toggleAura;
    auraCard.onclick=toggleAura;

    function appendAura(text,who="a"){
      const el=document.createElement("div");
      el.className="msg "+(who==="u"?"u":"b");
      el.textContent=text;
      auraMsgs.appendChild(el);
      auraMsgs.scrollTop=auraMsgs.scrollHeight;
    }

    function auraBrain(q){
      const t=q.toLowerCase();
      if(/curso|writer/.test(t)) return "ðŸ“– Nosso curso *Tsukiyo Writer Class* forma autores com mÃ³dulos prÃ¡ticos.";
      if(/obra|livro|histÃ³ria/.test(t)) return "ðŸ“š Temos vÃ¡rias obras originais: *Abunai Aisuru*, *Married at 16*, *Kizuite Kudassai*â€¦";
      if(/termo|polÃ­tica/.test(t)) return "ðŸ”’ Consulte: https://naotodev1.github.io/terms-e-policy";
      return "âœ¨ Sou a Aura! Pergunte sobre obras, cursos, termos ou novidades do Studio Tsukiyo.";
    }

    auraSend.onclick = ()=>{
      const t=auraIn.value.trim(); if(!t) return;
      appendAura(t,"u");
      auraIn.value="";
      setTimeout(()=>appendAura(auraBrain(t),"a"),600);
    };
    auraIn.addEventListener("keydown",e=>{if(e.key==="Enter") auraSend.click();});
  </script>
</body>
</html>
